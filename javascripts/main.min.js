!function(e,t,n,o){function i(t,n){this.element=t,this.$element=e(t),this.init()}var s=function(e){return e.replace(/\s/g,"").length>0};i.prototype={init:function(){this.$element.outerHeight();var n=parseInt(this.$element.css("paddingBottom"))+parseInt(this.$element.css("paddingTop"))||0;s(this.element.value)&&this.$element.height(this.element.scrollHeight-n),this.$element.on("input keyup",function(o){var i=e(t),s=i.scrollTop();e(this).height(0).height(this.scrollHeight-n),i.scrollTop(s)})}},e.fn.textareaAutoSize=function(t){return this.each(function(){e.data(this,"plugin_textareaAutoSize")||e.data(this,"plugin_textareaAutoSize",new i(this,t))}),this}}(jQuery,window,document),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Headroom=t()}(this,function(){"use strict";function e(e){this.callback=e,this.ticking=!1}function t(e){return e&&"undefined"!=typeof window&&(e===window||e.nodeType)}function n(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var o,i,s=e||{};for(i=1;i<arguments.length;i++){var a=arguments[i]||{};for(o in a)"object"!=typeof s[o]||t(s[o])?s[o]=s[o]||a[o]:s[o]=n(s[o],a[o])}return s}function o(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=n(t,i.options),this.lastKnownScrollY=0,this.elem=e,this.tolerance=o(t.tolerance),this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop,this.onBottom=t.onBottom,this.onNotBottom=t.onNotBottom}var s={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){if(i.cutsTheMustard)return this.debouncer=new e(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var e=this.classes;this.initialised=!1;for(var t in e)e.hasOwnProperty(t)&&this.elem.classList.remove(e[t]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;!e.contains(t.pinned)&&e.contains(t.unpinned)||(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.bottom)||(e.add(t.bottom),e.remove(t.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notBottom)||(e.add(t.notBottom),e.remove(t.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(e){return Math.max(e.offsetHeight,e.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=e<0,n=e+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return t||n},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var n=e>this.lastKnownScrollY,o=e>=this.offset;return n&&o&&t},shouldPin:function(e,t){var n=e<this.lastKnownScrollY,o=e<=this.offset;return n&&t||o},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),e+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(e,n)?this.unpin():this.shouldPin(e,n)&&this.pin(),this.lastKnownScrollY=e)}},i.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=void 0!==s&&s.rAF&&s.bind&&s.classList,i}),function(e){var t=function(){var e=document.querySelectorAll(".menu-language-name");if(e)if(e.length>2)for(i=0;i<e.length;++i)e[i].classList.add("language-name-resize");else for(i=0;i<e.length;++i)e[i].classList.remove("language-name-resize")},n=function(){return"editmode"===e("html").attr("data-view-state")},o=function(){return e("html").hasClass("menu-language-popover-open")},s=function(e,t,n){var o;return function(){var i=this,s=arguments,a=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,s)},t),a&&e.apply(i,s)}},a=function(){e(document).on("click touchstart",function(t){if(!e(t.target).closest('[data-sideclick="prevent"]').length&&!e(t.target).closest(".js-prevent-sideclick").length){var n=e("html");n.removeClass("menu-language-popover-open"),n.attr("data-menu-main-state","closed"),n.removeClass("site-search-opened"),e(".js-search-input").val("")}}),e('[data-behavior="toggle-menu-main"]').click(function(){var t=e("html");"open"==t.attr("data-menu-main-state")?t.attr("data-menu-main-state","closed"):(t.attr("data-menu-main-state","open"),t.removeClass("menu-language-popover-open site-search-opened"))}),e('[data-behavior="toggle-comment-form-fields"]').on("focus",function(){e("#comment-form__details").attr("data-display-state","block")}).on("blur",function(){0===e("#comment-form__body").val().length&&0===e("#comment-form__name").val().length&&0===e("#comment-form__email").val().length&&setTimeout(function(){e(document.activeElement).is('[data-group="comment-field"]')||e("#comment-form__details").attr("data-display-state","none")},0)}),e(".js-toggle-menu-language").click(function(){var t=e("html");t.toggleClass("menu-language-popover-open"),t.hasClass("menu-main-opened")||t.hasClass("site-search-opened")?(t.removeClass("menu-main-opened site-search-opened"),setTimeout(function(){l(".js-toggle-menu-language",".js-menu-language-popover")},300)):t.hasClass("menu-language-popover-open")&&l(".js-toggle-menu-language",".js-menu-language-popover")}),e(".js-toggle-site-search").click(function(){var t=e("html");t.removeClass("menu-language-popover-open"),t.attr("data-menu-main-state","closed"),t.toggleClass("site-search-opened"),t.hasClass("site-search-opened")&&e(".js-search-input").focus()}),e(".js-clear-search-input").click(function(){var t=e(".js-search-input");t.val().length>0?t.val("").focus():e("html").removeClass("site-search-opened")})},l=function(t,n){var o=e(t);e(n).css({top:Math.round(o.offset().top+o.outerHeight()),right:Math.round(e(window).width()-o.offset().left-o.outerWidth())})},r=function(){e.each(e(".content-area"),function(){e(this).find("table").wrap('<div class="table-container"></div>')})},c=function(){e('[data-init="auto-resize"]').textareaAutoSize()},d=function(){e(document).ready(function(){e(".comment-form").hasClass("form_with_errors")?e("html, body").scrollTop(e(".comment-form").offset().top):e("form").find(".form_error, .form_notice").length>0&&e("html, body").scrollTop(e(".form_error, .form_notice").closest("form").offset().top)})},m=function(){e("[class^=form_field_]").on("input change",function(){e(this).closest(".form_field_with_errors").removeClass("form_field_with_errors")})},u=function(e,t,n){var o=e.find(".js-content-item-img-drop-area"),i=e.find(".js-toggle-crop-state");t>n?o.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):t===n?o.removeClass("image-landscape image-square image-portrait").addClass("image-square"):o.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),o.hasClass("image-square")?i.removeClass("is-visible").addClass("is-hidden"):i.removeClass("is-hidden").addClass("is-visible")},h=function(t,n,o,i,s){var a="article"===s?"articles":"pages",l=new Edicy.CustomData({type:s,id:o});e.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+a+"/"+o,data:JSON.stringify({image_id:i}),dataType:"json",success:function(e){l.set("image_crop_state","not-cropped"),t.removeClass("not-loaded with-error").addClass("is-loaded"),t.find(".edy-img-drop-area-placeholder").css("opacity",.5),n.css("opacity",1)},timeout:3e4,error:function(e){t.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})},g=function(){e(document).ready(function(){setTimeout(function(){e(".js-content-item-box").addClass("not-loaded")},3e3)}),e(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var t=e(this).closest(".js-content-item-box");t.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){t.removeClass("not-loaded with-error"),t.find(".js-loader").remove()},3e3)}})},p=function(){var t=document.createElement("div");t.classList.add("edy-ecommerce-custom-ico"),t.innerHTML='<svg width="34" height="28" viewBox="0 0 34 28" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M3.224 12.139a.581.581 0 0 0-.469.224.487.487 0 0 0-.085.425l3.442 12.521c.064.232.293.395.555.395h21.188c.262 0 .49-.162.552-.394l3.445-12.522a.484.484 0 0 0-.086-.425.577.577 0 0 0-.468-.224H3.224zm24.631 15.652H6.667c-1.199 0-2.254-.794-2.566-1.93L.658 13.341a2.553 2.553 0 0 1 .437-2.242 2.657 2.657 0 0 1 2.129-1.047h28.074c.846 0 1.621.381 2.127 1.046.494.646.653 1.464.439 2.243L30.42 25.862c-.31 1.135-1.365 1.929-2.565 1.929z"/><path d="M6.826 12.139a1.044 1.044 0 0 1-.824-1.684l7.304-9.391a1.042 1.042 0 1 1 1.648 1.28l-7.305 9.391a1.039 1.039 0 0 1-.823.404m20.871 0c-.311 0-.619-.139-.824-.403l-7.305-9.391a1.042 1.042 0 1 1 1.647-1.28l7.304 9.391a1.042 1.042 0 0 1-.822 1.683"/></g></svg>',e(".edy-ecommerce-shopping-cart-button").prepend(t)};window.template=e.extend(window.template||{},{initItemsPage:function(){n()||g()},bindLanguageMenuSettings:function(t){"type"in t||(t.type="popover"),"item_state"in t||(t.item_state="flags_and_names"),e(".js-menu-language-settings-toggle").each(function(n,o){new Edicy.SettingsEditor(o,{menuItems:[{titleI18n:"format",type:"radio",key:"type",list:[{titleI18n:"dropdown_menu",value:"popover"},{titleI18n:"expanded_menu",value:"list"}]},{titleI18n:"show",type:"radio",key:"item_state",list:[{titleI18n:"flags_only",value:"flags_only"},{titleI18n:"names_only",value:"names_only"},{titleI18n:"flags_and_names",value:"flags_and_names"}]}],buttonTitleI18n:"settings",values:t,containerClass:["js-menu-language-settings-popover","js-prevent-sideclick"],preview:function(t){var n=e("html"),o=e(".js-menu-language-settings");"list"===t.type?(n.removeClass("language-menu-mode-popover"),n.removeClass("menu-language-popover-open"),n.addClass("language-menu-mode-list"),o.appendTo(".js-menu-language-list-setting-parent")):(n.removeClass("language-menu-mode-list"),n.addClass("language-menu-mode-popover"),n.addClass("menu-language-popover-open"),o.appendTo(".js-menu-language-popover-setting-parent")),"flags_only"===t.item_state?(n.removeClass("language-flags-disabled"),n.removeClass("language-names-enabled"),n.addClass("language-flags-enabled"),n.addClass("language-names-disabled")):"names_only"===t.item_state?(n.removeClass("language-flags-enabled"),n.removeClass("language-names-disabled"),n.addClass("language-flags-disabled"),n.addClass("language-names-enabled")):"flags_and_names"===t.item_state&&(n.removeClass("language-flags-disabled"),n.removeClass("language-names-disabled"),n.addClass("language-flags-enabled"),n.addClass("language-names-enabled")),l(".js-toggle-menu-language",".js-menu-language-popover"),this.setPosition()},commit:function(e){siteData.set("settings_language_menu",e)}})})},bindSiteSearch:function(t,n,o){t&&new VoogSearch(t,{per_page:10,lang:n,resultsContainer:e(".js-voog-search-modal").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:o})},bindCustomTexteditorStyles:function(e){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:e,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])},bindContentItemImgDropAreas:function(t){e(".js-content-item-img-drop-area").each(function(n,o){var i=e(o),s=i.closest(".js-content-item-box"),a=s.data("item-id"),l=s.data("item-type");new Edicy.CustomData({type:l,id:a}),new Edicy.ImgDropArea(i,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+t+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(e){var t;i.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),e?(t=e.original_id,s.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),u(s,e.width,e.height)):(t=null,s.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),s.find(".edy-img-drop-area-placeholder").css("opacity",0)),h(s,i,a,t,l)}})})},bindContentItemImageCropToggle:function(){e(".js-toggle-crop-state").on("click",function(){var t,n=e(this).closest(".js-content-item-box"),o=n.find(".js-content-item-img-drop-area"),i=n.data("item-id"),s=n.data("item-type"),a=new Edicy.CustomData({type:s,id:i});o.hasClass("is-cropped")?(o.removeClass("is-cropped").addClass("not-cropped"),t="not-cropped"):(o.removeClass("not-cropped").addClass("is-cropped"),t="is-cropped"),a.set("image_crop_state",t)})},bindRootItemSettings:function(t){"show_product_related_pages_in_main_menu"in t||(t.show_product_related_pages_in_main_menu=!1),e(".js-root-item-settings-toggle").each(function(n,o){new Edicy.SettingsEditor(o,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:t,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(t){1==!t.show_product_related_pages_in_main_menu?e(".js-menu-item-products").addClass("menu-main__item--hidden"):e(".js-menu-item-products").removeClass("menu-main__item--hidden")},commit:function(e){siteData.set("settings_root_item",e)}})})},handleProductPageContent:function(){e(document).ready(function(){t()}),e(window).resize(s(function(){t()},25));var t=function(){var t=e(".js-product-gallery"),n=e(".js-content-item-box"),o=e(".js-product-content-right");e(".js-buy-btn-content .edy-buy-button-container").length>=1&&(e(window).width()<640?0===e(".js-buy-btn-content + .js-product-gallery").length&&o.append(t):0===e(".js-content-item-box + .js-product-gallery").length&&n.parent().append(t))}},handleProductImageClick:function(t){n()&&e(".product-content .item-top").click(function(){window.open("/admin/ecommerce/products/"+t,"_blank").focus()})}}),e(window).resize(s(function(){o()&&l(".js-toggle-menu-language",".js-menu-language-popover")},25)),a(),c(),d(),m(),t(),n()||r(),e(document).on("voog:shoppingcart:button:created",function(){p(),new Headroom(e(".edy-ecommerce-shopping-cart-button").get(0),{offset:100,tolerance:0}).init(),e(window).width()<641&&e("body").scrollTop()<49&&e("body").scrollTop(0)}),new Headroom(e(".layout-header__options").get(0),{offset:100,tolerance:0}).init()}(jQuery);